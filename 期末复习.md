# Nosql


## redis适用场景

1. 数据模型比较简单的
2. 需要灵活性强的IT系统
3. 对数据库性能要求较高
4. 不需要高度的数据一致性
5. 对于给定的key,比较容易映射复杂值的环境

## 四大Nosql数据库与关系型数据库的区别场景

- **键值**数据库(redis):

- **列存储/列族**数据库(HBase):

- **文档**数据库(MongoDB):

- **图**数据库(Neo4J):

## redis集群两个重要原理

## redis配置参数

## redis增删改查命令

- 

## 集群+一致性hash

## 悬挂关系是什么



----
# --------------------------------------

>老师给的范围

简答题50分,编程题50分

> 简答题:

## 列出5个redis数据库访问数据的命令

||||
-|-|-
1|SET key value | 设置指定 key 的值
2|GET key | 获取指定 key 的值。
3|GETRANGE key start end |返回 key 中字符串值的子字符
4|GETSET key value |将给定 key 的值设为 value ，并返回 key 的旧值(old value)。
5|GETBIT key offset |对 key 所储存的字符串值，获取指定偏移量上的位(bit)。
6|LRANGE key start end | 返回列表 key 中指定区间内的元素，区间以偏移量 start 和 end 指定。
7|LPOP key | 移除并返回列表 key 的头元素。


## 解释redis配置参数的作用

|参数|作用|
|-|-|
|daemomize| 如果值为`yes`,则启动服务时后台守护进程形式|
|port     | redis服务端口,默认为6379|
|databases|可用数据库数,默认值为16个(启动是默认使用第[0]个数据库)|
|dir| 当前工作目录|
|oppendonly| 是否启用AOF模式(持久化)|
|cluster-enabled| 配置redis作为一个集群节点来启动|
|bind 127.0.0.1|绑定的主机地址|
|--------------------------|--------------------------------------------|
|||
|||

主: 192.168.80.133:6379
从: 192.168.80.133:6380
主redis配置 
```
cp -r redis-3.0.7 /user/local/redis-6379
cd /user/local/redis-6379
mkdir run
vim redis.conf
```
从redis配置 -6380




## ACID是什么意思

ACID，指数据库事务正确执行的四个基本要素的缩写。包含：原子性(Atomicity)、一致性(Consistency)、隔离性(Isolation)、持久性(Durability)。一个支持事务(Transaction)的数据库，必须要具有这四种特性，否则在事务过程(Transaction processing)当中无法保证数据的正确性，交易过程极可能达不到交易方的要求。

- 原子性(Atomicity):是指一个事务要么全部执行,要么不执行.也就是说一个事务不可能只执行了一半就停止了.比如你从取款机取钱,这个事务可以分成两个步骤:1划卡,2出钱.不可能划了卡,而钱却没出来.这两步必须同时完成.要么就不完成.

- 一致性(Consistency)是指事务的运行并不改变数据库中数据的一致性.例如,完整性约束了a+b=10,一个事务改变了a,那么b也应该随之改变.

- 独立性(Isolation):事务的独立性也有称作隔离性,是指两个以上的事务不会出现交错执行的状态.因为这样可能会导致数据不一致.

- 持久性(Durability):事务的持久性是指事务执行成功以后,该事务对数据库所作的更改便是持久的保存在数据库之中，不会无缘无故的回滚.


## CAP是什么

CAP定理:Consistency(一致性)。 Availability(可用性)。Partition tolerance(分区容错性)
这三个要素最多只能同时实现两点，不可能三者兼顾。因此在进行分布式架构设计时，必须做出取舍。而对于分布式数据系统，分区容忍性是基本要求，否则就失去了价值。因此设计分布式数据系统，就是在一致性和可用性之间取一个平衡。

## gossip协议是什么

Cassandra使用一个名为gossip的协议去获得集群中其他节点的位置和状态信息。Gossip是一个点对点的通信协议，在这个协议中，节点之间定期交换状态信息。Gossip协议每隔一秒运行一次，节点和不超过的三个节点交换信息，因此所有的节点能够很快知道集群中其他节点的信息。每一个gossip信息有一个版本，因此在信息的交换中，旧的信息会被新的状态信息覆盖。 　　
为防止gossip通信的发生隔离，保障数据的一致性和完整性，在一个节点中的所有节点应当使用相同的Seed列表(Seed节点负责和集群中的其他节点通讯并获取信息，Cassandra读取和写入数据都是向Seed节点发出操作指令，这些节点应该相对稳定)。当节点第一次启动时Seed列表信息非常重要。

## 四大Nosql数据库

|||
|-|-|
|**键值**数据库|redis|
|**列存储/列族**数据库|HBase|
|**文档**数据库|MongoDB|
|**图**数据库|Neo4J|

## Nosql数据库和关系数据库的区别/适用场景

- 关系数据库:
    - 优势: 以完美的关系代表理论作为基础,有严格的标准,支持事务ACID特性,借助索引机制可以实现高效的查询,技术成熟,专业公司的技术支持
    - 劣势: 可扩展性很差,无法很好支持海量数据存储,数据模型过于死板,无法较好支持web2.0应用,事务机制影响了系统整体性能
- Nosql数据库:
    - 优势: 可以支持超大规模数据存储,灵活的数据模型可以很好支持web2.0应用,具有强大的横向扩展功能
    - 劣势: 缺乏数学理论基础,复杂查询性能不高,大都不能实现事务强一致性,很难实现数据完整性,技术尚不成熟,没有专业技术团队技术支持,维护困难
- 应用场景:
    - 关系数据库:电信,银行等领域的关键业务系统,需保证强一致性
    - Nosql: 互联网企业,传统企业的非关键业务(例如:数据分析),做缓存数据库

## Nosql数据库要解决什么问题

大数据,分布式的问题

## 为什么需要slots


## 一致性hash是什么意思

对节点和数据都做一次hash运算,然后比较节点和数据的hash值,数据取和当前节点最近的节点作为存储节点,这样就保证了当节点增加或减少时,影响的数据最少

## 主从集群的搭建和Java端的增删改查

- 主从搭建
- 主节点增删改
- 从节点查询

---------

# 数据分析

## 数据分析生命周期
    
- 定义项目目标
- 数据的获得与管理
- 模式/模型的洞见
- 模式/模型的验证和优化
- 结果的可视化和文档化
- 模式/模型的应用与维护

## 数据处理的概念

- **数据预处理**:旨在对数据进行正式处理之前,根据后续数据计算的需求对原始数据集进行审计/清洗/变换/集成/****/规约和标准化等一系列处理活动,题开数据质量,并使数据形态更加符合某一算法需求,进而达到提升的数据计算的效果和降低其复杂度的目的
- **预处理工作**:数据审计->数据清洗->数据变换->数据集成->其他预处理

## 相似度计算

- 欧式空间中的点使用**欧几里得距离**:

$$
dis(x,y) = \sqrt{\sum_{k=1}^n (x_k-y_k)^2}
$$

- 对文档使用**余弦相似度**:

$$
\cos(x,y) = \frac{x \cdot y}{|x| \cdot |y|} = \frac{(x_1,y_1) \cdot (x_2,y_2)}{\sqrt{x_1^2 + y_1^2} \times \sqrt{x_2^2 + y_2^2}} = \frac{x_1x_2+y_1y_2}{\sqrt{x_1^2 + y_1^2} \times \sqrt{x_2^2 + y_2^2}}
$$

## MPV树

>关联规则

>**图乱 没看明白.........**

TID|数据|支持度s
-|-|-
1|{a,d,e}|s({e})=$\frac{8}{10}$=0.8
1|{a,b,c,e}|s({b,d})=$\frac{2}{10}$=0.2
2|{a,b,c,d,e}|s({b,d,e})=$\frac{2}{10}$=0.2
2|
3|
3|
4|
4|
5|
5|

## K均值聚类
1|2
-|-
$A_1(2,10)$|1

进行到质心不再变化为止
SSE也可以判断质心不再变

## Apriori算法

支持度计数 找频繁项集

## FP增长算法



-----

# 信息搜索技术
